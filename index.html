<html>
   <head>
     <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
     <meta charset="utf-8">
     <title>Structured Contents</title>
     
	   
     <style>


    .applebutton {
      background-color: #f68a1f;
      border: none;
      color: white;
      padding: 15px 32px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 4px;
      cursor: pointer;
	    border-radius: 4px;
	    -webkit-transition-duration: 0.4s; /* Safari */
      transition-duration: 0.4s;
	    font-family: "Myriad pro","Trebuchet MS","Lucida Grande","Lucida Sans Unicode","Lucida Sans",sans-serif;
    }
    .applebutton:hover {
      background-color: #da7009;
      color: white;	
    }
        

     </style>
     
     
     
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
     <script src="https://lpcdn.lpsnmedia.net/webagent/client-SDK.min.js"></script>
 	  
     
	   
    <script>
	    
	    $('#whatsappSC').css('display', 'none');
	    $('#appleSC').css('display', 'none');
	    
            
            $(document).ready(function() {
              
                var SDK=lpTag.agentSDK;
                SDK.init();
              
                var onSuccess = function(data) {
                    // Do something with the returning data
			if(data.includes("apple")){
				$('#whatsappSC').css('display', 'none');
		  		$('#appleSC').css('display', 'inline');
			} else if(data.includes("whatsapp")){
				$('#whatsappSC').css('display', 'inline');
		  		$('#appleSC').css('display', 'none');
			}
		  

                };
                
                var onError = function(data) {
			console.log("Error");
			// Do something with the returning data
                };
                
             
                SDK.get('authenticatedData.customerDetails.customerId', onSuccess, onError);               
              
            });
  

		function sendSC(json) {
			var cmdName = lpTag.agentSDK.cmdNames.writeSC;
			var data = {json:json};
			lpTag.agentSDK.command(cmdName, data, function (err) {
				outputLog.value = err ? err : 'done';
			});
		}
	     
	     
	     function restaurantappleSC() {

		  

		  

        var listPickerSC = {
		 "type": "vertical",
            	 "elements": [{
 			               "type": "vertical",
 			               "elements": [{
 				               "type": "image",
 				               "url": "https://i.imgur.com/6Ne2kqO.jpg",
 				               "tooltip": "image tooltip"
 			               },
 			               {
 				               "type": "text",
 				               "text": "VIU Hotel",
 				               "tooltip": "hotelVIUmilan",
 				               "style": {
 					               "bold": true,
 					               "size": "large",
						       "color": "#000000"
 				               }
 			               },
 			               {
 				               "type": "button",
 				               "title": "VIU Hotel",
 				               "click": {
 					               "actions": [{
 						               "type": "link",
 						               "uri": "http://www.hotelviumilan.com/"
 					               }]
 				               }
 			               }
						    
 		               ]}]};
		  
		  
        var listPickerSCMetadata = [{
  "type": "BusinessChatCustomMessage",
  "appId": 1234,
  "appName": "AuthenticationPOC",
  "bid": "com.apple.messages.MSMessageExtensionBalloonPlugin:7A76CR8BD8:com.liveperson.abcpoc.welcomMessagePOC.WelcomMessagePOC.welcomMessagePOCExtension",
  "sessionIdentifier": "",
  "useLiveLayout": true,
  "receivedMessage": {
"imageURL":"https://i.imgur.com/6Ne2kqO.jpg",
      "title": "VIU Hotel",
      "style": "icon",
      "subtitle": "hotelVIUmilan",
      "secondarySubtitle": "",
      "tertiarySubtitle": "",
      "imageTitle": "",
      "imageSubtitle": ""
  },
  "URL": "http://www.hotelviumilan.com/"
}];
    
    


            var cmdName = lpTag.agentSDK.cmdNames.writeSC;
            var payload = {
json: listPickerSC,
metadata: listPickerSCMetadata
};
            lpTag.agentSDK.command(cmdName, payload, function (err) {
               outputLog.value = err ? err : 'done';
            });
         }
	     
	     

	     
	     
	     
	     	  function accountnumberappleSC() {

		  

		  

        var listPickerSC = {
  "type": "vertical",
  "tag": "datePicker",
  "elements": [
    {
      "type": "text",
      "text": "Scegli una data",
      "tag": "Title",
      "style": {
        "bold": true,
        "size": "large"
      }
    },
    {
      "type": "text",
      "text": "Giovedi 7 Giugno"
    },
    {
      "type": "horizontal",
      "elements": [
        {
          "type": "button",
          "title": "20:30",
          "click": {
            "metadata": [
              {
                "type": "ExternalId",
                "id": "SlotIdentidier"
              },
              {
                "type": "BusinessEvent",
                "timing": {
                  "startTime": "2018-06-07T18:30:00Z",
                  "duration": 3600
                }
              }
            ],
            "actions": [
              {
                "type": "publishText",
                "text": "Prenota ristorante: 7/6/2018 20:30 IST"
              }
            ]
          }
        },
        {
          "type": "button",
          "title": "22:00",
          "click": {
            "metadata": [
              {
                "type": "ExternalId",
                "id": "SlotIdentidier"
              },
              {
                "type": "BusinessEvent",
                "timing": {
                  "startTime": "2018-06-07T20:00:00Z",
                  "duration": 3600
                }
              }
            ],
            "actions": [
              {
                "type": "publishText",
                "text": "Prenota ristorante: 7/6/2018 22:00 IST"
              }
            ]
          }
        }
      ]
    },
    {
      "type": "text",
      "text": "Venerdi' 8 Giugno"
    },
    {
      "type": "horizontal",
      "elements": [
        {
          "type": "button",
          "title": "12:30",
          "click": {
            "metadata": [
              {
                "type": "ExternalId",
                "id": "SlotIdentidier"
              },
              {
                "type": "BusinessEvent",
                "timing": {
                  "startTime": "2018-06-08T10:30:00Z",
                  "duration": 3600
                }
              }
            ],
            "actions": [
              {
                "type": "publishText",
                "text": "Prenota ristorante: 8/6/2018 12:30 IST"
              }
            ]
          }
        },
        {
          "type": "button",
          "title": "14:00",
          "click": {
            "metadata": [
              {
                "type": "ExternalId",
                "id": "SlotIdentidier"
              },
              {
                "type": "BusinessEvent",
                "timing": {
                  "startTime": "2018-06-08T12:00:00Z",
                  "duration": 3600
                }
              }
            ],
            "actions": [
              {
                "type": "publishText",
                "text": "Prenota ristorante: 8/6/2018 14:00 IST"
              }
            ]
          }
        }
      ]
    }
  ]
};
		  
		  
        var listPickerSCMetadata = [{
    "type": "BusinessEvent",
    "timing": {
        "presentedTimezoneOffset": 120
    },
    "location": {
        "title": "Ristorante VIU Milano",
        "la": 45.4829555,
        "lo": 9.176966300000004,
        "radius": 10
    },
    "title": "Ristorante VIU Milano"
}, {
    "type": "BusinessChatMessage",
    "receivedMessage": {
        "title": "Ristorante VIU Milano",
        "imageURL": "https://cdn.dribbble.com/users/85668/screenshots/1352116/dribblble_mock_1x.jpg",
        "style": "small",
        "subtitle": "Clicca qui per vedere le date disponibili"
    },
    "replyMessage": {
        "title": "Ristorante VIU Milano",
        "style": "small",
        "imageURL": "https://cdn.dribbble.com/users/85668/screenshots/1352116/dribblble_mock_1x.jpg",
        "subtitle": "Grazie!"
    }
}];
    


            var cmdName = lpTag.agentSDK.cmdNames.writeSC;
            var payload = {
		    json: listPickerSC,
		    metadata: listPickerSCMetadata
	    };
            lpTag.agentSDK.command(cmdName, payload, function (err) {
		    outputLog.value = err ? err : 'done';
	    });
			  
         }
	     
	     

	     
	     $(document).on('click', function(evt) {
               if($(evt.target).is('#colorsOrTrims')) {
		       colorsOrTrimsSC();
                 }
            });
       	    
	     
	     
	      $(document).on('click', function(evt) {
               if($(evt.target).is('#trims')) {
 		           trimsSC();    
                 }
            });
	     
	     
	     
	     $(document).on('click', function(evt) {
               if($(evt.target).is('#colors')) {
		       colorsSC();
                 }
            });
	     
	     
	     
	     
       
     </script>
    
     </head>
   
     <body>
	 
	 </div>
	 <div id="appleSC">
		 <button class="applebutton" id="colorsOrTrims" >Colore o allestimento?</button>
		 </br></br>
		 <button class="applebutton" id="trims" >Allestimenti'</button>
		</br></br>
		 <button class="applebutton" id="colors" >Colori</button>
	 </div>
	 <div id="whatsappSC">
		<div id="whatsappLabel">This is WhatsApp!!</div>
	 </div>
        
    </body>
</html> 
